
#  <?xml version="1.0" encoding="UTF-8"?>
#  <!DOCTYPE html>
#  <html xmlns="http://www.w3.org/1999/xhtml">
#  <head>
#     <title>I AM YOUR DOCUMENT TITLE REPLACE ME</title>
#  </head>
#  <body>
#     <div>
#       <div data-var="ad"></div>
#     </div>
#  </body>
#  </html>

#  <!DOCTYPE html>
#  <html>
#  <head>
#     <title>I AM YOUR DOCUMENT TITLE REPLACE ME</title>
#     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
#  </head>
#  <body>
#     <div>
#       <div data-var="ad"></div>
#       <aside>as</aside>
#       <article>an article</article>
#     </div>
#  </body>
#  </html>


{ "area"=>{:class=>:Area, :double=>false},
    "base"=>{:class=>:Base, :double=>false},
    "br"=>{:class=>:Br, :double=>false},
    "col"=>{:class=>:Col, :double=>false},
    "embed"=>{:class=>:Embed, :double=>false},
    "frame"=>{:class=>:Frame, :double=>false},
    "hr"=>{:class=>:Hr, :double=>false},
    "img"=>{:class=>:Img, :double=>false},
    "input"=>{:class=>:Input, :double=>false},
    "link"=>{:class=>:Link, :double=>false},
    "meta"=>{:class=>:Meta, :double=>false},
    "param"=>{:class=>:Param, :double=>false},
    "a"=>{:class=>:A, :double=>true},
    "abbr"=>{:class=>:Abbr, :double=>true},
    "acronym"=>{:class=>:Acronym, :double=>true},
    "address"=>{:class=>:Address, :double=>true},
    "article"=>{:class=>:Article, :double=>true},
    "aside"=>{:class=>:Aside, :double=>true},
    "audio"=>{:class=>:Audio, :double=>true},
    "b"=>{:class=>:B, :double=>true},
    "bdo"=>{:class=>:Bdo, :double=>true},
    "big"=>{:class=>:Big, :double=>true},
    "blockquote"=>{:class=>:Blockquote, :double=>true},
    "body"=>{:class=>:Body, :double=>true},
    "button"=>{:class=>:Button, :double=>true},
    "canvas"=>{:class=>:Canvas, :double=>true},
    "caption"=>{:class=>:Caption, :double=>true},
    "center"=>{:class=>:Center, :double=>true},
    "cite"=>{:class=>:Cite, :double=>true},
    "code"=>{:class=>:Code, :double=>true},
    "colgroup"=>{:class=>:Colgroup, :double=>true},
    "command"=>{:class=>:Command, :double=>true},
    "datalist"=>{:class=>:Datalist, :double=>true},
    "dd"=>{:class=>:Dd, :double=>true},
    "del"=>{:class=>:Del, :double=>true},
    "details"=>{:class=>:Details, :double=>true},
    "dfn"=>{:class=>:Dfn, :double=>true},
    "dialog"=>{:class=>:Dialog, :double=>true},
    "div"=>{:class=>:Div, :double=>true},
    "dl"=>{:class=>:Dl, :double=>true},
    "dt"=>{:class=>:Dt, :double=>true},
    "em"=>{:class=>:Em, :double=>true},
    "fieldset"=>{:class=>:Fieldset, :double=>true},
    "figure"=>{:class=>:Figure, :double=>true},
    "footer"=>{:class=>:Footer, :double=>true},
    "form"=>{:class=>:Form, :double=>true},
    "frameset"=>{:class=>:Frameset, :double=>true},
    "h1"=>{:class=>:H1, :double=>true},
    "h2"=>{:class=>:H2, :double=>true},
    "h3"=>{:class=>:H3, :double=>true},
    "h4"=>{:class=>:H4, :double=>true},
    "h5"=>{:class=>:H5, :double=>true},
    "h6"=>{:class=>:H6, :double=>true},
    "head"=>{:class=>:Head, :double=>true},
    "header"=>{:class=>:Header, :double=>true},
    "hgroup"=>{:class=>:Hgroup, :double=>true},
    "html"=>{:class=>:Html, :double=>true},
    "i"=>{:class=>:I, :double=>true},
    "iframe"=>{:class=>:Iframe, :double=>true},
    "ins"=>{:class=>:Ins, :double=>true},
    "keygen"=>{:class=>:Keygen, :double=>true},
    "kbd"=>{:class=>:Kbd, :double=>true},
    "label"=>{:class=>:Label, :double=>true},
    "legend"=>{:class=>:Legend, :double=>true},
    "li"=>{:class=>:Li, :double=>true},
    "map"=>{:class=>:Map, :double=>true},
    "mark"=>{:class=>:Mark, :double=>true},
    "meter"=>{:class=>:Meter, :double=>true},
    "nav"=>{:class=>:Nav, :double=>true},
    "noframes"=>{:class=>:Noframes, :double=>true},
    "noscript"=>{:class=>:Noscript, :double=>true},
    "object"=>{:class=>:Object, :double=>true},
    "ol"=>{:class=>:Ol, :double=>true},
    "optgroup"=>{:class=>:Optgroup, :double=>true},
    "option"=>{:class=>:Option, :double=>true},
    "p"=>{:class=>:P, :double=>true},
    "pre"=>{:class=>:Pre, :double=>true},
    "progress"=>{:class=>:Progress, :double=>true},
    "q"=>{:class=>:Q, :double=>true},
    "ruby"=>{:class=>:Ruby, :double=>true},
    "rt"=>{:class=>:Rt, :double=>true},
    "rp"=>{:class=>:Rp, :double=>true},
    "s"=>{:class=>:S, :double=>true},
    "samp"=>{:class=>:Samp, :double=>true},
    "script"=>{:class=>:Script, :double=>true},
    "section"=>{:class=>:Section, :double=>true},
    "select"=>{:class=>:Select, :double=>true},
    "small"=>{:class=>:Small, :double=>true},
    "source"=>{:class=>:Source, :double=>true},
    "span"=>{:class=>:Span, :double=>true},
    "strike"=>{:class=>:Strike, :double=>true},
    "strong"=>{:class=>:Strong, :double=>true},
    "style"=>{:class=>:Style, :double=>true},
    "sub"=>{:class=>:Sub, :double=>true},
    "sup"=>{:class=>:Sup, :double=>true},
    "table"=>{:class=>:Table, :double=>true},
    "tbody"=>{:class=>:Tbody, :double=>true},
    "td"=>{:class=>:Td, :double=>true},
    "textarea"=>{:class=>:Textarea, :double=>true},
    "tfoot"=>{:class=>:Tfoot, :double=>true},
    "th"=>{:class=>:Th, :double=>true},
    "thead"=>{:class=>:Thead, :double=>true},
    "time"=>{:class=>:Time, :double=>true},
    "title"=>{:class=>:Title, :double=>true},
    "tr"=>{:class=>:Tr, :double=>true},
    "tt"=>{:class=>:Tt, :double=>true},
    "u"=>{:class=>:U, :double=>true},
    "ul"=>{:class=>:Ul, :double=>true},
    "var"=>{:class=>:Var, :double=>true},
    "video"=>{:class=>:Video, :double=>true}}

source = "
<a href target ping rel media hreflang type>
<abbr>
<address>
<area alt coords shape href target ping rel media hreflang type>
<article>
<aside>
<audio src preload autoplay mediagroup loop controls>
<b>
<base href target>
<bdi>
<bdo>
<blockquote cite>
<body onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onredo onresize onscroll onstorage onundo onunload>
<br>
<button autofocus disabled form formaction formenctype formmethod formnovalidate formtarget name type value>
<canvas width height>
<caption>
<cite>
<code>
<col span>
<colgroup span>
<command type label icon disabled checked radiogroup>
<datalist option>
<dd>
<del cite datetime>
<details open>
<dfn>
<div>
<dl>
<dt>
<em>
<embed src type width height>
<fieldset disabled form name>
<figcaption>
<figure>
<footer>
<form accept-charset action autocomplete enctype method name novalidate target>
<h1>
<h2>
<h3>
<h4>
<h5>
<h6>
<head>
<header>
<hgroup>
<hr>
<html manifest>
<i>
<iframe src srcdoc name sandbox seamless width height>
<img alt src usemap ismap width height>
<input accept alt autocomplete autofocus checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern placeholder readonly required size src step type value width>
<ins cite datetime>
<kbd>
<keygen autofocus challenge disabled form keytype name>
<label form for>
<legend>
<li value>
<link href rel media hreflang type sizes>
<map name>
<mark>
<menu type label>
<meta name http-equiv content charset>
<meter value min max low high optimum form>
<nav>
<noscript>
<object data type name usemap form width height>
<ol reversed start>
<optgroup disabled label>
<option disabled label selected value>
<output for form name>
<p>
<param name value>
<pre>
<progress value max form>
<q cite>
<rp>
<rt>
<ruby>
<s>
<samp>
<script src async defer type charset>
<section>
<select autofocus disabled form multiple name required size>
<small>
<source src type media>
<span>
<strong>
<style media type scoped>
<sub>
<summary>
<sup>
<table border>
<tbody>
<td colspan rowspan headers>
<textarea autofocus cols disabled form maxlength name placeholder readonly required rows wrap>
<tfoot>
<th colspan rowspan headers scope>
<thead>
<time datetime pubdate>
<title>
<tr>
<track default kind label src srclang>
<u>
<ul>
<var>
<video src poster preload autoplay mediagroup loop controls width height>
<wbr>
"
hash = {}
source.scan(/<([^>]+)>/) do |m| 
  tag, *attributes = m[0].split(' ')
  hash[tag] = attributes
end

require 'pp'
p hash

data = {"a"=>["href", "target", "ping", "rel", "media", "hreflang", "type"], "abbr"=>[], "address"=>[], "area"=>["alt", "coords", "shape", "href", "target", "ping", "rel", "media", "hreflang", "type"], "article"=>[], "aside"=>[], "audio"=>["src", "preload", "autoplay", "mediagroup", "loop", "controls"], "b"=>[], "base"=>["href", "target"], "bdi"=>[], "bdo"=>[], "blockquote"=>["cite"], "body"=>["onafterprint", "onbeforeprint", "onbeforeunload", "onblur", "onerror", "onfocus", "onhashchange", "onload", "onmessage", "onoffline", "ononline", "onpagehide", "onpageshow", "onpopstate", "onredo", "onresize", "onscroll", "onstorage", "onundo", "onunload"], "br"=>[], "button"=>["autofocus", "disabled", "form", "formaction", "formenctype", "formmethod", "formnovalidate", "formtarget", "name", "type", "value"], "canvas"=>["width", "height"], "caption"=>[], "cite"=>[], "code"=>[], "col"=>["span"], "colgroup"=>["span"], "command"=>["type", "label", "icon", "disabled", "checked", "radiogroup"], "datalist"=>["option"], "dd"=>[], "del"=>["cite", "datetime"], "details"=>["open"], "dfn"=>[], "div"=>[], "dl"=>[], "dt"=>[], "em"=>[], "embed"=>["src", "type", "width", "height"], "fieldset"=>["disabled", "form", "name"], "figcaption"=>[], "figure"=>[], "footer"=>[], "form"=>["accept-charset", "action", "autocomplete", "enctype", "method", "name", "novalidate", "target"], "h1"=>[], "h2"=>[], "h3"=>[], "h4"=>[], "h5"=>[], "h6"=>[], "head"=>[], "header"=>[], "hgroup"=>[], "hr"=>[], "html"=>["manifest"], "i"=>[], "iframe"=>["src", "srcdoc", "name", "sandbox", "seamless", "width", "height"], "img"=>["alt", "src", "usemap", "ismap", "width", "height"], "input"=>["accept", "alt", "autocomplete", "autofocus", "checked", "dirname", "disabled", "form", "formaction", "formenctype", "formmethod", "formnovalidate", "formtarget", "height", "list", "max", "maxlength", "min", "multiple", "name", "pattern", "placeholder", "readonly", "required", "size", "src", "step", "type", "value", "width"], "ins"=>["cite", "datetime"], "kbd"=>[], "keygen"=>["autofocus", "challenge", "disabled", "form", "keytype", "name"], "label"=>["form", "for"], "legend"=>[], "li"=>["value"], "link"=>["href", "rel", "media", "hreflang", "type", "sizes"], "map"=>["name"], "mark"=>[], "menu"=>["type", "label"], "meta"=>["name", "http-equiv", "content", "charset"], "meter"=>["value", "min", "max", "low", "high", "optimum", "form"], "nav"=>[], "noscript"=>[], "object"=>["data", "type", "name", "usemap", "form", "width", "height"], "ol"=>["reversed", "start"], "optgroup"=>["disabled", "label"], "option"=>["disabled", "label", "selected", "value"], "output"=>["for", "form", "name"], "p"=>[], "param"=>["name", "value"], "pre"=>[], "progress"=>["value", "max", "form"], "q"=>["cite"], "rp"=>[], "rt"=>[], "ruby"=>[], "s"=>[], "samp"=>[], "script"=>["src", "async", "defer", "type", "charset"], "section"=>[], "select"=>["autofocus", "disabled", "form", "multiple", "name", "required", "size"], "small"=>[], "source"=>["src", "type", "media"], "span"=>[], "strong"=>[], "style"=>["media", "type", "scoped"], "sub"=>[], "summary"=>[], "sup"=>[], "table"=>["border"], "tbody"=>[], "td"=>["colspan", "rowspan", "headers"], "textarea"=>["autofocus", "cols", "disabled", "form", "maxlength", "name", "placeholder", "readonly", "required", "rows", "wrap"], "tfoot"=>[], "th"=>["colspan", "rowspan", "headers", "scope"], "thead"=>[], "time"=>["datetime", "pubdate"], "title"=>[], "tr"=>[], "track"=>["default", "kind", "label", "src", "srclang"], "u"=>[], "ul"=>[], "var"=>[], "video"=>["src", "poster", "preload", "autoplay", "mediagroup", "loop", "controls", "width", "height"], "wbr"=>[]}

data2 = ['a', 'abbr', 'acronym', 'address', 'article', 'aside', 'audio',
      'b', 'bdo', 'big', 'blockquote', 'body', 'button',
      'canvas', 'caption', 'center', 'cite', 'code', 'colgroup', 'command',
      'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt',
      'em',
      'fieldset', 'figure', 'footer', 'form', 'frameset',
      'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'html', 'i',
      'iframe', 'ins', 'keygen', 'kbd', 'label', 'legend', 'li',
      'map', 'mark', 'meter',
      'nav', 'noframes', 'noscript',
      'object', 'ol', 'optgroup', 'option',
      'p', 'pre', 'progress',
      'q', 'ruby', 'rt', 'rp', 's',
      'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strike',
      'strong', 'style', 'sub', 'sup',
      'table', 'tbody', 'td', 'textarea', 'tfoot',
      'th', 'thead', 'time', 'title', 'tr', 'tt',
      'u', 'ul',
      'var', 'video'] + [
      'area', 'base', 'br', 'col', 'embed', 'frame',
      'hr', 'img', 'input', 'link', 'meta', 'param'
    ]

p 'a', data.keys - data2, data2 - data.keys 